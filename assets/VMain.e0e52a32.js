import{i as te,m as oe,k as ae,u as ne}from"./_plugin-vue_export-helper.8bc405d9.js";import{p as Z,O as B,M as se,z as D,r as C,a6 as le,a7 as ue,b as i,A as ie,P as L,Q as re,N as X,e as R,T as ce,i as ve,c as K}from"./index.05010dba.js";const V=Symbol.for("vuetify:layout"),q=Symbol.for("vuetify:layout-item"),U=1e3,ge=Z({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),be=Z({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function de(){const a=B(V);if(!a)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:a.getLayoutItem,mainRect:a.mainRect,mainStyles:a.mainStyles}}function he(a){var f;const r=B(V);if(!r)throw new Error("[Vuetify] Could not find injected layout");const s=(f=a.id)!=null?f:`layout-item-${se()}`,c=D("useLayoutItem");X(q,{id:s});const n=C(!1);le(()=>n.value=!0),ue(()=>n.value=!1);const{layoutItemStyles:l,layoutItemScrimStyles:u}=r.register(c,{...a,active:i(()=>n.value?!1:a.active.value),id:s});return ie(()=>r.unregister(s)),{layoutItemStyles:l,layoutRect:r.layoutRect,layoutItemScrimStyles:u}}const fe=(a,r,s,c)=>{let n={top:0,left:0,right:0,bottom:0};const l=[{id:"",layer:{...n}}];for(const u of a){const f=r.get(u),g=s.get(u),z=c.get(u);if(!f||!g||!z)continue;const b={...n,[f.value]:parseInt(n[f.value],10)+(z.value?parseInt(g.value,10):0)};l.push({id:u,layer:b}),n=b}return l};function Ie(a){const r=B(V,null),s=i(()=>r?r.rootZIndex.value-100:U),c=C([]),n=L(new Map),l=L(new Map),u=L(new Map),f=L(new Map),g=L(new Map),{resizeRef:z,contentRect:b}=te(),F=i(()=>{var e;const t=new Map,v=(e=a.overlaps)!=null?e:[];for(const m of v.filter(o=>o.includes(":"))){const[o,d]=m.split(":");if(!c.value.includes(o)||!c.value.includes(d))continue;const p=n.get(o),S=n.get(d),$=l.get(o),M=l.get(d);!p||!S||!$||!M||(t.set(d,{position:p.value,amount:parseInt($.value,10)}),t.set(o,{position:S.value,amount:-parseInt(M.value,10)}))}return t}),h=i(()=>{const t=[...new Set([...u.values()].map(e=>e.value))].sort((e,m)=>e-m),v=[];for(const e of t){const m=c.value.filter(o=>{var d;return((d=u.get(o))==null?void 0:d.value)===e});v.push(...m)}return fe(v,n,l,f)}),T=i(()=>!Array.from(g.values()).some(t=>t.value)),I=i(()=>h.value[h.value.length-1].layer),Q=i(()=>({"--v-layout-left":R(I.value.left),"--v-layout-right":R(I.value.right),"--v-layout-top":R(I.value.top),"--v-layout-bottom":R(I.value.bottom),...T.value?void 0:{transition:"none"}})),x=i(()=>h.value.slice(1).map((t,v)=>{let{id:e}=t;const{layer:m}=h.value[v],o=l.get(e),d=n.get(e);return{id:e,...m,size:Number(o.value),position:d.value}})),_=t=>x.value.find(v=>v.id===t),E=D("createLayout"),N=C(!1);re(()=>{N.value=!0}),X(V,{register:(t,v)=>{let{id:e,order:m,position:o,layoutSize:d,elementSize:p,active:S,disableTransitions:$,absolute:M}=v;u.set(e,m),n.set(e,o),l.set(e,d),f.set(e,S),$&&g.set(e,$);const k=ce(q,E==null?void 0:E.vnode).indexOf(t);k>-1?c.value.splice(k,0,e):c.value.push(e);const H=i(()=>x.value.findIndex(w=>w.id===e)),O=i(()=>s.value+h.value.length*2-H.value*2),G=i(()=>{const w=o.value==="left"||o.value==="right",P=o.value==="right",ee=o.value==="bottom",j={[o.value]:0,zIndex:O.value,transform:`translate${w?"X":"Y"}(${(S.value?0:-110)*(P||ee?-1:1)}%)`,position:M.value||s.value!==U?"absolute":"fixed",...T.value?void 0:{transition:"none"}};if(!N.value)return j;const y=x.value[H.value];if(!y)throw new Error(`[Vuetify] Could not find layout item "${e}"`);const A=F.value.get(e);return A&&(y[A.position]+=A.amount),{...j,height:w?`calc(100% - ${y.top}px - ${y.bottom}px)`:p.value?`${p.value}px`:void 0,left:P?void 0:`${y.left}px`,right:P?`${y.right}px`:void 0,top:o.value!=="bottom"?`${y.top}px`:void 0,bottom:o.value!=="top"?`${y.bottom}px`:void 0,width:w?p.value?`${p.value}px`:void 0:`calc(100% - ${y.left}px - ${y.right}px)`}}),J=i(()=>({zIndex:O.value-1}));return{layoutItemStyles:G,layoutItemScrimStyles:J,zIndex:O}},unregister:t=>{u.delete(t),n.delete(t),l.delete(t),f.delete(t),g.delete(t),c.value=c.value.filter(v=>v!==t)},mainRect:I,mainStyles:Q,getLayoutItem:_,items:x,layoutRect:b,rootZIndex:s});const W=i(()=>["v-layout",{"v-layout--full-height":a.fullHeight}]),Y=i(()=>({zIndex:s.value,position:r?"relative":void 0,overflow:r?"hidden":void 0}));return{layoutClasses:W,layoutStyles:Y,getLayoutItem:_,items:x,layoutRect:b,layoutRef:z}}const xe=ve({name:"VMain",props:{scrollable:Boolean,...oe({tag:"main"})},setup(a,r){let{slots:s}=r;const{mainStyles:c}=de(),{ssrBootStyles:n}=ae();return ne(()=>{var l,u;return K(a.tag,{class:["v-main",{"v-main--scrollable":a.scrollable}],style:[c.value,n.value]},{default:()=>[a.scrollable?K("div",{class:"v-main__scroller"},[(l=s.default)==null?void 0:l.call(s)]):(u=s.default)==null?void 0:u.call(s)]})}),{}}});export{xe as V,ge as a,Ie as c,be as m,he as u};
